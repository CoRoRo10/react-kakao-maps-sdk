"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3237],{8368:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var a=o(7378),n=o(6010),r=o(4669),s=o(9960),i=o(2263);const l="heroBanner_qdFl",u="buttons_AeoN",c="container_bfhl",d="map_sQa5";var p=o(7462);const m="features_xdhU",k="featureSvg__8YW",f=[{title:"Easy to Use",image:"/img/undraw_Map_dark_re_36sy.svg",description:a.createElement(a.Fragment,null,"\ucef4\ud3ec\ub10c\ud2b8\ub97c \uc774\uc6a9\ud558\uc5ec \uac04\ub2e8\ud558\uac8c \uad6c\ud604\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4!")},{title:"Focus on What Matters",image:"/img/undraw_Location_tracking_re_n3ok.svg",description:a.createElement(a.Fragment,null,"\uae30\ub2a5 \uad6c\ud604\uc5d0 \uc9d1\uc911 \ud560 \uc218 \uc788\ub3c4\ub85d KakaoMap\uacfc React Life Cycle\uc744 \uc5f0\uacb0\ud558\uc5ec \uc81c\uacf5 \ud569\ub2c8\ub2e4!")},{title:"Powered by React, TypeScript",image:"/img/undraw_My_current_location_re_whmt.svg",description:a.createElement(a.Fragment,null,"TypeScript\uc758 \ud0c0\uc785 \ucd94\ub860\uacfc \ud568\uaed8 React\ub85c \uc27d\uac8c \uac1c\ubc1c\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4!!")}];function g(e){let{title:t,image:o,description:r}=e;return a.createElement("div",{className:(0,n.Z)("col col--4")},a.createElement("div",{className:"text--center"},a.createElement("img",{className:k,alt:t,src:o})),a.createElement("div",{className:"text--center padding-horiz--md"},a.createElement("h3",null,t),a.createElement("p",null,r)))}function y(){return a.createElement("section",{className:m},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},f.map(((e,t)=>a.createElement(g,(0,p.Z)({key:t},e)))))))}var h=o(7995);function w(){const{siteConfig:e}=(0,i.Z)();return a.createElement("header",{className:(0,n.Z)("hero hero--primary",l)},a.createElement("div",{className:(0,n.Z)("container",c)},a.createElement("h1",{className:"hero__title"},e.title),a.createElement("p",{className:"hero__subtitle"},e.tagline),a.createElement(h.Map,{className:d,center:{lat:33.450701,lng:126.570667}},a.createElement(h.MapMarker,{position:{lat:33.450701,lng:126.570667}},a.createElement("div",{style:{margin:"5px",color:"black"}},"React \ud83d\udc99 Kakao Map!")),a.createElement(h.CustomOverlayMap,{position:{lat:33.4498466026352,lng:126.57066214371602}},a.createElement("div",{className:u},a.createElement(s.Z,{className:"button button--secondary button--lg",to:"/docs/intro"},"Tutorial - 5min \u23f1\ufe0f"))))))}function v(){const{siteConfig:e}=(0,i.Z)();return a.createElement(r.Z,{title:"Hello from "+e.title,description:"Description will go into a meta tag in <head />"},a.createElement(w,null),a.createElement("main",null,a.createElement(y,null)))}},7995:(e,t,o)=>{o.r(t),o.d(t,{AbstractOverlay:()=>x,Circle:()=>C,CustomOverlayMap:()=>w,CustomOverlayRoadview:()=>P,DrawingManager:()=>_,Ellipse:()=>O,Loader:()=>l,Map:()=>c,MapInfoWindow:()=>h,MapMarker:()=>y,MapTypeControl:()=>v,MapTypeId:()=>E,MarkerClusterer:()=>f,Polygon:()=>I,Polyline:()=>M,Rectangle:()=>b,Roadview:()=>R,RoadviewInfoWindow:()=>T,RoadviewMarker:()=>A,StaticMap:()=>W,Toolbox:()=>Z,ZoomControl:()=>L,useInjectKakaoMapApi:()=>H,useMap:()=>d,useRoadview:()=>z});var a=o(7378);const n="undefined"!=typeof window&&"undefined"!=typeof document?a.useLayoutEffect:a.useEffect,r=(e,t,o)=>{n((()=>{if(!e||!o)return;const a=function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return void 0===a?o(e):o(e,...a)};return kakao.maps.event.addListener(e,t,a),()=>{kakao.maps.event.removeListener(e,t,a)}}),[e,t,o])};let s;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(s||(s={}));const i="__reactKakaoMapsSdkloaderId";class l{constructor(e){let{appkey:t,id:o=i,libraries:a=[],nonce:n,retries:r=3,url:s="//dapi.kakao.com/v2/maps/sdk.js"}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.id=o,this.appkey=t,this.libraries=a,this.nonce=n,this.retries=r,this.url=s,l.instance){if(!l.equalOptions(this.options,l.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(l.instance.options));return l.instance}l.instance=this}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static isLoaded(){return new Promise((e=>l.instance?l.instance.status===s.FAILURE||l.instance.status===s.INITIALIZED?e(!1):(l.instance.status===s.LOADING&&l.loadcheckcallbacks.push((t=>e(!t))),e(!0)):window.kakao&&window.kakao.maps?0!==window.kakao.maps.readyState?e(!0):window.kakao.maps.load((()=>{e(!0)})):l.loadcheckcallbacks.push((t=>{e(!t)}))))}load(){return new Promise(((e,t)=>{this.loadCallback((o=>{o?t(o.error):e(window.kakao)}))}))}get status(){return this.onerrorEvent?s.FAILURE:this.done?s.SUCCESS:this.loading?s.LOADING:s.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps\uc774 \uc774\ubbf8 \uc678\ubd80 \uc694\uc18c\uc5d0 \uc758\ud574 \ub85c\ub529\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\uc124\uc815\ud55c \uc635\uc158\uacfc \uc77c\uce58 \ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc73c\uba70, \uc774\uc5d0 \ub530\ub978 \uc608\uc0c1\uce58 \ub3d9\uc791\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e,t,o,a,n){if(this.errors.push({event:e,source:t,lineno:o,colno:a,error:n}),this.errors.length<=this.retries){const e=this.errors.length*2**this.errors.length;console.log("Failed to load Kakao Maps script, retrying in "+e+" ms."),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()}createUrl(){let e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+="&autoload=false",e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load((()=>{this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[],l.loadcheckcallbacks.forEach((e=>{e(this.onerrorEvent)})),l.loadcheckcallbacks=[]}))}static equalOptions(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(let o=0;o<e.libraries.length;++o)if(e.libraries[o]!==t.libraries[o])return!1;return e.nonce===t.nonce&&(e.retries===t.retries&&e.url===t.url)}}l.loadcheckcallbacks=[];const u=a.createContext(void 0),c=a.forwardRef(((e,t)=>{let{id:o="react-kakao-maps-sdk-map-container",style:s,children:i,center:c,isPanto:d=!1,padding:p=32,className:m,disableDoubleClick:k,disableDoubleClickZoom:f,draggable:g,zoomable:y,keyboardShortcuts:h,level:w,maxLevel:v,minLevel:L,mapTypeId:E,projectionId:C,scrollwheel:M,tileAnimation:I,onBoundsChanged:b,onCenterChanged:O,onClick:x,onDoubleClick:S,onDrag:R,onDragEnd:z,onDragStart:P,onIdle:A,onMaptypeidChanged:T,onMouseMove:D,onRightClick:N,onTileLoaded:_,onZoomChanged:Z,onZoomStart:W,onCreate:H}=e;const[F,U]=(0,a.useState)(!1),[j,G]=(0,a.useState)(),K=(0,a.useRef)(null);return n((()=>{l.isLoaded().then(U)}),[]),n((()=>{if(!F)return;const e=K.current;if(!e)return;const t="lat"in c?new kakao.maps.LatLng(c.lat,c.lng):new kakao.maps.Coords(c.x,c.y),o=new kakao.maps.Map(e,{center:t,disableDoubleClick:k,disableDoubleClickZoom:f,draggable:g,keyboardShortcuts:h,level:w,mapTypeId:E,projectionId:C,scrollwheel:M,tileAnimation:I});return G(o),()=>{e.innerHTML=""}}),[F,k,f,E,I]),(0,a.useImperativeHandle)(t,(()=>j),[j]),n((()=>{j&&H&&H(j)}),[j,H]),n((()=>{if(!j)return;let e=j.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());const t="lat"in c?new kakao.maps.LatLng(c.lat,c.lng):new kakao.maps.Coords(c.x,c.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(d?j.panTo(t,p):j.setCenter(t))}),[j,c.lat,c.lng,c.x,c.y]),n((()=>{j&&void 0!==g&&j.setDraggable(g)}),[j,g]),n((()=>{j&&void 0!==y&&j.setZoomable(y)}),[j,y]),n((()=>{j&&h&&"boolean"==typeof h&&j.setKeyboardShortcuts(h)}),[j,h]),n((()=>{j&&w&&j.setLevel(w)}),[j,w]),n((()=>{j&&E&&j.setMapTypeId(E)}),[j,E]),n((()=>{j&&C&&j.setProjectionId(C)}),[j,C]),n((()=>{j&&v&&j.setMaxLevel(v)}),[j,v]),n((()=>{j&&L&&j.setMinLevel(L)}),[j,L]),r(j,"bounds_changed",b),r(j,"center_changed",O),r(j,"click",x),r(j,"dblclick",S),r(j,"drag",R),r(j,"dragstart",P),r(j,"dragend",z),r(j,"idle",A),r(j,"maptypeid_changed",T),r(j,"mousemove",D),r(j,"rightclick",N),r(j,"tilesloaded",_),r(j,"zoom_changed",Z),r(j,"zoom_start",W),a.createElement(a.Fragment,null,a.createElement("div",{id:o,style:s,className:m,ref:K}),j&&a.createElement(u.Provider,{value:j},i))})),d=e=>{const t=(0,a.useContext)(u);if(!t)throw new Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return t};var p=o(1542);const m=a.forwardRef(((e,t)=>{let{map:o,position:n,marker:r,children:s,altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:d,onCreate:m}=e;const k=(0,a.useRef)(document.createElement("div")),f=(0,a.useMemo)((()=>{const e=new kakao.maps.InfoWindow({altitude:i,disableAutoPan:l,range:u,removable:c,zIndex:d,content:k.current,position:n});return k.current.style.display="none",e}),[l,c]);return(0,a.useImperativeHandle)(t,(()=>f),[f]),(0,a.useLayoutEffect)((()=>(f.open(o,r),()=>{f.close()})),[o,r]),(0,a.useLayoutEffect)((()=>{m&&m(f)}),[f,m]),(0,a.useLayoutEffect)((()=>{f&&f.setPosition(n)}),[f,n]),(0,a.useLayoutEffect)((()=>{f&&i&&f.setAltitude(i)}),[f,i]),(0,a.useLayoutEffect)((()=>{f&&u&&f.setRange(u)}),[f,u]),(0,a.useLayoutEffect)((()=>{f&&d&&f.setZIndex(d)}),[f,d]),k.current.parentElement&&p.createPortal(s,k.current.parentElement)})),k=a.createContext(void 0),f=a.forwardRef(((e,t)=>{let{children:o,averageCenter:n,calculator:s,clickable:i,disableClickZoom:l,gridSize:u,hoverable:c,minClusterSize:p,minLevel:m,styles:f,texts:g,onClusterclick:y,onClusterdblclick:h,onClustered:w,onClusterout:v,onClusterover:L,onClusterrightclick:E,onCreate:C}=e;const M=d("MarkerClusterer"),I=(0,a.useMemo)((()=>{if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:n,calculator:s,clickable:i,disableClickZoom:l,gridSize:u,hoverable:c,minClusterSize:p,minLevel:m,styles:f,texts:g});console.warn("clusterer \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubcc4\ub3c4 \ub85c\ub4dc \ud574\uc57c \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,a.useImperativeHandle)(t,(()=>I),[I]),(0,a.useLayoutEffect)((()=>{null==I||I.setMap(M)}),[M,I]),(0,a.useLayoutEffect)((()=>{I&&C&&C(I)}),[I,C]),(0,a.useLayoutEffect)((()=>{I&&u&&(I.setGridSize(u),I.redraw())}),[I,u]),(0,a.useLayoutEffect)((()=>{I&&p&&(I.setMinClusterSize(p),I.redraw())}),[I,p]),(0,a.useLayoutEffect)((()=>{I&&void 0!==n&&(I.setAverageCenter(n),I.redraw())}),[I,n]),(0,a.useLayoutEffect)((()=>{I&&m&&(I.setMinLevel(m),I.redraw())}),[I,m]),(0,a.useLayoutEffect)((()=>{I&&g&&(I.setTexts(g),I.redraw())}),[I,g]),(0,a.useLayoutEffect)((()=>{I&&s&&(I.setCalculator(s),I.redraw())}),[I,s]),(0,a.useLayoutEffect)((()=>{I&&f&&(I.setStyles(f),I.redraw())}),[I,f]),r(I,"clusterclick",y),r(I,"clusterover",L),r(I,"clusterout",v),r(I,"clusterdblclick",h),r(I,"clusterrightclick",E),r(I,"clustered",w),I?a.createElement(k.Provider,{value:I},o):null})),g=a.forwardRef(((e,t)=>{let{map:o,position:n,children:s,altitude:i,clickable:l,draggable:u,image:c,infoWindowOptions:d,onCreate:p,onClick:f,onDragEnd:g,onDragStart:y,onMouseOut:h,onMouseOver:w,opacity:v,range:L,title:E,zIndex:C}=e;const M=(0,a.useContext)(k),I=(0,a.useMemo)((()=>new kakao.maps.Marker({altitude:i,clickable:l,draggable:u,image:c,opacity:v,range:L,title:E,zIndex:C,position:n})),[]);return(0,a.useImperativeHandle)(t,(()=>I),[I]),(0,a.useLayoutEffect)((()=>(M?M.addMarker(I):I.setMap(o),()=>{M?M.removeMarker(I):I.setMap(null)})),[o,M,I]),(0,a.useLayoutEffect)((()=>{p&&p(I)}),[I,p]),r(I,"click",f),r(I,"dragstart",y),r(I,"dragend",g),r(I,"mouseout",h),r(I,"mouseover",w),(0,a.useLayoutEffect)((()=>{o&&I&&n&&I.setPosition(n)}),[o,I,n]),(0,a.useLayoutEffect)((()=>{o&&I&&c&&I.setImage(c)}),[o,I,c]),(0,a.useLayoutEffect)((()=>{o&&I&&i&&I.setAltitude(i)}),[o,I,i]),(0,a.useLayoutEffect)((()=>{o&&I&&void 0!==l&&I.setClickable(l)}),[o,I,l]),(0,a.useLayoutEffect)((()=>{o&&I&&void 0!==u&&I.setDraggable(u)}),[o,I,u]),(0,a.useLayoutEffect)((()=>{o&&I&&v&&I.setOpacity(v)}),[o,I,v]),(0,a.useLayoutEffect)((()=>{o&&I&&L&&I.setRange(L)}),[o,I,L]),(0,a.useLayoutEffect)((()=>{o&&I&&E&&I.setTitle(E)}),[o,I,E]),(0,a.useLayoutEffect)((()=>{o&&I&&C&&I.setZIndex(C)}),[o,I,C]),s?a.createElement(m,{position:n,map:o,marker:I,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},s):null})),y=a.forwardRef(((e,t)=>{let{image:o,position:n,children:r,clickable:s,draggable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:p,onMouseOut:m,onMouseOver:k,onCreate:f,opacity:y,title:h,zIndex:w}=e;const v=d("MapMarker"),L=(0,a.useMemo)((()=>{var e,t,a,n,r,s,i,l,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(a=o.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=o.options)?void 0:n.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(s=o.options)?void 0:s.shape,spriteOrigin:(null==(i=o.options)?void 0:i.spriteOrigin)&&new kakao.maps.Point(null==(l=o.options)?void 0:l.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})}),[o]),E=(0,a.useMemo)((()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):new kakao.maps.Coords(n.x,n.y).toLatLng()),[n.lat,n.lng,n.x,n.y]);return a.createElement(g,{map:v,position:E,image:L,clickable:s,draggable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:p,onMouseOut:m,onMouseOver:k,onCreate:f,opacity:y,title:h,zIndex:w,ref:t},r)})),h=a.forwardRef(((e,t)=>{let{position:o,children:n,disableAutoPan:r,removable:s,zIndex:i,onCreate:l}=e;const u=d("MapInfoWindow"),c=(0,a.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]);return a.createElement(m,{disableAutoPan:r,removable:s,zIndex:i,map:u,position:c,onCreate:l,ref:t},n)})),w=a.forwardRef(((e,t)=>{let{position:o,children:n,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,onCreate:u}=e;const c=(0,a.useContext)(k),m=d("CustomOverlayMap"),f=(0,a.useRef)(document.createElement("div")),g=(0,a.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),y=(0,a.useMemo)((()=>{const e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:g,content:f.current});return f.current.style.display="none",e}),[r,s,i]);return(0,a.useImperativeHandle)(t,(()=>y),[y]),(0,a.useLayoutEffect)((()=>{if(m)return c?c.addMarker(y):y.setMap(m),()=>{c?c.removeMarker(y):y.setMap(null)}}),[m,c,y]),(0,a.useLayoutEffect)((()=>{u&&u(y)}),[y,u]),(0,a.useLayoutEffect)((()=>{y.setPosition(g)}),[y,g]),(0,a.useLayoutEffect)((()=>{l&&y.setZIndex(l)}),[y,l]),f.current.parentElement&&p.createPortal(n,f.current.parentElement)})),v=a.forwardRef(((e,t)=>{let{position:o=kakao.maps.ControlPosition.TOPRIGHT}=e;const n=d("MapTypeControl"),r=(0,a.useMemo)((()=>new kakao.maps.MapTypeControl),[]);return(0,a.useImperativeHandle)(t,(()=>r),[r]),(0,a.useLayoutEffect)((()=>(n.addControl(r,o),()=>{n.removeControl(r)})),[n,r,o]),null})),L=a.forwardRef(((e,t)=>{let{position:o=kakao.maps.ControlPosition.RIGHT}=e;const n=d("ZoomControl"),r=(0,a.useMemo)((()=>new kakao.maps.ZoomControl),[]);return(0,a.useImperativeHandle)(t,(()=>r),[r]),(0,a.useEffect)((()=>(n.addControl(r,o),()=>{n.removeControl(r)})),[n,o]),null})),E=e=>{let{type:t}=e;const o=d("MapTypeId");return(0,a.useEffect)((()=>(o.addOverlayMapTypeId(t),()=>{o.removeOverlayMapTypeId(t)})),[o,t]),null},C=a.forwardRef(((e,t)=>{let{center:o,radius:n,fillColor:s,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:m,onMouseover:k,onMouseout:f,onMousemove:g,onMousedown:y,onClick:h,onCreate:w}=e;const v=d("Circle"),L=(0,a.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),E=(0,a.useMemo)((()=>new kakao.maps.Circle({center:L,radius:n,fillColor:s,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p,zIndex:m})),[]);return(0,a.useImperativeHandle)(t,(()=>E),[E]),(0,a.useLayoutEffect)((()=>(E.setMap(v),()=>{E.setMap(null)})),[v,E]),(0,a.useLayoutEffect)((()=>{w&&w(E)}),[E,w]),(0,a.useLayoutEffect)((()=>{E&&E.setPosition(L)}),[E,L]),(0,a.useLayoutEffect)((()=>{E.setRadius(n)}),[E,n]),(0,a.useLayoutEffect)((()=>{m&&E.setZIndex(m)}),[E,m]),(0,a.useLayoutEffect)((()=>{E.setOptions({fillColor:s,fillOpacity:i,strokeColor:l,strokeOpacity:u,strokeStyle:c,strokeWeight:p})}),[E,s,i,l,u,c,p]),r(E,"mouseover",k),r(E,"mouseout",f),r(E,"mousemove",g),r(E,"mousedown",y),r(E,"click",h),null})),M=a.forwardRef(((e,t)=>{let{path:o,endArrow:n,onClick:s,onMousedown:i,onMousemove:l,onMouseout:u,onMouseover:c,onCreate:p,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g,zIndex:y}=e;const h=d("Polyline"),w=(0,a.useMemo)((()=>o.every((e=>e instanceof Array))?o.map((e=>e.map((e=>new kakao.maps.LatLng(e.lat,e.lng))))):o.map((e=>new kakao.maps.LatLng(e.lat,e.lng)))),[o]),v=(0,a.useMemo)((()=>new kakao.maps.Polyline({path:w,endArrow:n,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g,zIndex:y})),[]);return(0,a.useImperativeHandle)(t,(()=>v),[v]),(0,a.useLayoutEffect)((()=>(v.setMap(h),()=>v.setMap(null))),[h,v]),(0,a.useLayoutEffect)((()=>{p&&p(v)}),[v,p]),(0,a.useLayoutEffect)((()=>{v.setOptions({endArrow:n,strokeColor:m,strokeOpacity:k,strokeStyle:f,strokeWeight:g})}),[v,n,m,k,f,g]),(0,a.useLayoutEffect)((()=>{v.setPath(w)}),[v,w]),(0,a.useLayoutEffect)((()=>{y&&v.setZIndex(y)}),[v,y]),r(v,"mouseover",c),r(v,"mouseout",u),r(v,"mousemove",l),r(v,"mousedown",i),r(v,"click",s),null})),I=a.forwardRef(((e,t)=>{let{path:o,onClick:n,onMousedown:s,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f,fillColor:g,fillOpacity:y,zIndex:h}=e;const w=d("Polygon"),v=(0,a.useMemo)((()=>o.every((e=>e instanceof Array))?o.map((e=>e.map((e=>new kakao.maps.LatLng(e.lat,e.lng))))):o.map((e=>new kakao.maps.LatLng(e.lat,e.lng)))),[o]),L=(0,a.useMemo)((()=>new kakao.maps.Polygon({path:v,fillColor:g,fillOpacity:y,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f,zIndex:h})),[]);return(0,a.useImperativeHandle)(t,(()=>L),[L]),(0,a.useLayoutEffect)((()=>(L.setMap(w),()=>L.setMap(null))),[w,L]),(0,a.useLayoutEffect)((()=>{c&&c(L)}),[L,c]),(0,a.useLayoutEffect)((()=>{L.setOptions({fillColor:g,fillOpacity:y,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f})}),[L,g,y,p,m,k,f]),(0,a.useLayoutEffect)((()=>{L.setPath(v)}),[L,v]),(0,a.useLayoutEffect)((()=>{h&&L.setZIndex(h)}),[L,h]),r(L,"mouseover",u),r(L,"mouseout",l),r(L,"mousemove",i),r(L,"mousedown",s),r(L,"click",n),null})),b=a.forwardRef(((e,t)=>{let{bounds:o,onClick:n,onMousedown:s,onMousemove:i,onMouseout:l,onMouseover:u,onCreate:c,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f,fillColor:g,fillOpacity:y,zIndex:h}=e;const w=d("Rectangle"),v=(0,a.useMemo)((()=>new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))),[o]),L=(0,a.useMemo)((()=>new kakao.maps.Rectangle({bounds:v,fillColor:g,fillOpacity:y,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f,zIndex:h})),[]);return(0,a.useImperativeHandle)(t,(()=>L),[L]),(0,a.useLayoutEffect)((()=>(L.setMap(w),()=>L.setMap(null))),[w,L]),(0,a.useLayoutEffect)((()=>{c&&c(L)}),[L,c]),(0,a.useLayoutEffect)((()=>{L.setOptions({fillColor:g,fillOpacity:y,strokeColor:p,strokeOpacity:m,strokeStyle:k,strokeWeight:f})}),[L,g,y,p,m,k,f]),(0,a.useLayoutEffect)((()=>{L.setBounds(v)}),[L,v]),(0,a.useLayoutEffect)((()=>{h&&L.setZIndex(h)}),[L,h]),r(L,"mouseover",u),r(L,"mouseout",l),r(L,"mousemove",i),r(L,"mousedown",s),r(L,"click",n),null})),O=a.forwardRef(((e,t)=>{let{center:o,rx:n,ry:s,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:m,zIndex:k,onMouseover:f,onMouseout:g,onMousemove:y,onMousedown:h,onClick:w,onCreate:v}=e;const L=d("Ellipse"),E=(0,a.useMemo)((()=>new kakao.maps.LatLng(o.lat,o.lng)),[o.lat,o.lng]),C=(0,a.useMemo)((()=>new kakao.maps.Ellipse({center:E,rx:n,ry:s,fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:m,zIndex:k})),[]);return(0,a.useImperativeHandle)(t,(()=>C),[C]),(0,a.useLayoutEffect)((()=>(C.setMap(L),()=>{C.setMap(null)})),[L,C]),(0,a.useLayoutEffect)((()=>{v&&v(C)}),[C,v]),(0,a.useLayoutEffect)((()=>{C&&C.setPosition(E)}),[C,E]),(0,a.useLayoutEffect)((()=>{C.setRadius(n,s)}),[C,n,s]),(0,a.useLayoutEffect)((()=>{k&&C.setZIndex(k)}),[C,k]),(0,a.useLayoutEffect)((()=>{C.setOptions({fillColor:i,fillOpacity:l,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:m})}),[C,i,l,u,c,p,m]),r(C,"mouseover",f),r(C,"mouseout",g),r(C,"mousemove",y),r(C,"mousedown",h),r(C,"click",w),null})),x=a.forwardRef(((e,t)=>{let{draw:o,onAdd:n,onRemove:r,onCreate:s}=e;const i=d(),l=(0,a.useMemo)((()=>{class e extends kakao.maps.AbstractOverlay{constructor(e,t,o){super(),this.draw=e,this.onAdd=t,this.onRemove=o}}return new e(o,n,r)}),[o,n,r]);return(0,a.useImperativeHandle)(t,(()=>l),[l]),(0,a.useLayoutEffect)((()=>(l.setMap(i),()=>{l.setMap(null)})),[i,l]),(0,a.useLayoutEffect)((()=>{s&&s(l)}),[l,s]),null})),S=a.createContext(void 0),R=a.forwardRef(((e,t)=>{let{id:o="react-kakao-maps-sdk-roadview-container",style:s,children:i,position:u,className:c,pan:d,panoId:p,panoX:m,panoY:k,tilt:f,zoom:g,onCreate:y,onInit:h,onPanoidChange:w,onPositionChanged:v,onViewpointChange:L,onErrorGetNearestPanoId:E}=e;const[C,M]=(0,a.useState)(!1),[I,b]=(0,a.useState)(!0),[O,x]=(0,a.useState)(),R=(0,a.useRef)(null);return n((()=>{l.isLoaded().then(M)}),[]),n((()=>{if(!C)return;const e=R.current;if(!e)return;const t=new kakao.maps.Roadview(e,{pan:d,panoId:p,panoX:m,panoY:k,tilt:f,zoom:g});return x(t),()=>{e.innerHTML=""}}),[C,m,k,g]),(0,a.useImperativeHandle)(t,(()=>O),[O]),n((()=>{O&&y&&y(O)}),[O,y]),n((()=>{if(!O||p||O.getPosition().getLat()===u.lat&&O.getPosition().getLng()===u.lng)return;const e=new kakao.maps.LatLng(u.lat,u.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,u.radius,(t=>{null===t&&E?E(O):O.setPanoId(t,e)}))}),[O,p,u.lat,u.lng,u.radius,E]),n((()=>{if(!O||!p||p===O.getPanoId()||O.getPosition().getLat()===u.lat&&O.getPosition().getLng()===u.lng)return;const e=new kakao.maps.LatLng(u.lat,u.lng);O.setPanoId(p,e)}),[O,p,u.lat,u.lng]),n((()=>{if(!O)return;const e=O.getViewpoint();e.pan===d&&e.tilt===f||(d&&(e.pan=d),f&&(e.tilt=f),O.setViewpoint(e))}),[O,d,f]),r(O,"init",(e=>{b(!1),h&&h(e)})),r(O,"panoid_changed",w),r(O,"viewpoint_changed",L),r(O,"position_changed",v),a.createElement(a.Fragment,null,a.createElement("div",{id:o,className:c,style:s,ref:R}),O&&!I&&a.createElement(S.Provider,{value:O},i))})),z=e=>{const t=(0,a.useContext)(S);if(!t)throw new Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return t},P=a.forwardRef(((e,t)=>{let{position:o,children:n,clickable:r,xAnchor:s,yAnchor:i,zIndex:l,altitude:u,range:c,onCreate:d}=e;const m=z("CustomOverlayRoadview"),k=(0,a.useRef)(document.createElement("div")),f=(0,a.useMemo)((()=>"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)),[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),g=(0,a.useMemo)((()=>{const e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:s,yAnchor:i,zIndex:l,position:f,content:k.current});return k.current.style.display="none",e}),[r,s,i]);return(0,a.useImperativeHandle)(t,(()=>g),[g]),(0,a.useLayoutEffect)((()=>{if(m)return g.setMap(m),()=>{g.setMap(null)}}),[g,m]),(0,a.useLayoutEffect)((()=>{d&&d(g)}),[g,d]),(0,a.useLayoutEffect)((()=>{g.setPosition(f)}),[g,f]),(0,a.useLayoutEffect)((()=>{l&&g.setZIndex(l)}),[g,l]),(0,a.useLayoutEffect)((()=>{u&&g.setAltitude(u)}),[g,u]),(0,a.useLayoutEffect)((()=>{c&&g.setRange(c)}),[g,c]),k.current.parentElement&&p.createPortal(n,k.current.parentElement)})),A=a.forwardRef(((e,t)=>{let{image:o,position:n,children:r,altitude:s,clickable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:p,onMouseOver:m,onCreate:k,opacity:f,range:y,title:h,zIndex:w}=e;const v=z("RoadviewMarker"),L=(0,a.useMemo)((()=>{var e,t,a,n,r,s,i,l,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(a=o.options)?void 0:a.offset)&&new kakao.maps.Point(null==(n=o.options)?void 0:n.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(s=o.options)?void 0:s.shape,spriteOrigin:(null==(i=o.options)?void 0:i.spriteOrigin)&&new kakao.maps.Point(null==(l=o.options)?void 0:l.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})}),[o]),E=(0,a.useMemo)((()=>"lat"in n?new kakao.maps.LatLng(n.lat,n.lng):"x"in n?new kakao.maps.Coords(n.x,n.y).toLatLng():new kakao.maps.Viewpoint(n.pan,n.tilt,n.zoom,n.panoId)),[n.lat,n.lng,n.x,n.y,n.pan,n.tilt,n.zoom,null==n?void 0:n.panoId]);return a.createElement(g,{map:v,position:E,image:L,altitude:s,clickable:i,infoWindowOptions:l,onClick:u,onDragEnd:c,onDragStart:d,onMouseOut:p,onMouseOver:m,onCreate:k,opacity:f,range:y,title:h,zIndex:w,ref:t},r)})),T=a.forwardRef(((e,t)=>{let{position:o,children:n,altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,onCreate:c}=e;const d=z("RoadviewInfoWindow"),p=(0,a.useMemo)((()=>"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)),[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return a.createElement(m,{altitude:r,disableAutoPan:s,range:i,removable:l,zIndex:u,map:d,position:p,onCreate:c,ref:t},n)})),D=a.createContext(void 0);function N(e,t,o){(0,a.useLayoutEffect)((()=>{if(!e||!o)return;e.addListener(t,(function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return void 0===a?o(e):o(e,...a)}))}),[o,e,t])}const _=a.forwardRef((function(e,t){let{arrowOptions:o,circleOptions:n,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u,drawingMode:c,guideTooltip:p,onSelect:m,onDrawstart:k,onDraw:f,onDrawend:g,onDrawnext:y,onCancle:h,onRemove:w,onStateChanged:v,onCreate:L,children:E}=e;const C=d("Toolbox"),M=(0,a.useMemo)((()=>{if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:C,drawingMode:c,guideTooltip:p,arrowOptions:o,circleOptions:n,ellipseOptions:r,markerOptions:s,polygonOptions:i,polylineOptions:l,rectangleOptions:u});console.warn("drawing \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubcc4\ub3c4 \ub85c\ub4dc \ud574\uc57c \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide/#loadlibrary`")}),[]);return(0,a.useImperativeHandle)(t,(()=>M),[M]),(0,a.useLayoutEffect)((()=>{M&&L&&L(M)}),[M,L]),N(M,"select",m),N(M,"drawstart",k),N(M,"draw",f),N(M,"drawend",g),N(M,"drawnext",y),N(M,"cancel",h),N(M,"remove",w),N(M,"state_changed",v),M?a.createElement(D.Provider,{value:M},E):null})),Z=a.forwardRef((function(e,t){let{position:o}=e;o=o||kakao.maps.ControlPosition.TOP;const n=d("Toolbox"),r=(0,a.useContext)(D);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");const s=(0,a.useMemo)((()=>new kakao.maps.drawing.Toolbox({drawingManager:r})),[r]);return(0,a.useImperativeHandle)(t,(()=>s),[s]),(0,a.useLayoutEffect)((()=>{const e=s.getElement();return n.addControl(e,o),()=>{n.removeControl(e)}}),[n,s,o]),null})),W=a.forwardRef(((e,t)=>{let{id:o="react-kakao-maps-sdk-staticmap-container",style:r,className:s,center:i,marker:l,level:u,mapTypeId:c,onCreate:d}=e;const[p,m]=(0,a.useState)(),k=(0,a.useRef)(null);return n((()=>{if(!window.kakao)return void console.warn("kakao map javascript api\ub97c \uba3c\uc800 \ubd88\ub7ec\uc640\uc57c \ud569\ub2c8\ub2e4. `https://apis.map.kakao.com/web/guide`");const e=k.current;e&&kakao.maps.load((()=>{const t=Array.isArray(l)?l.map((e=>({...e,position:new kakao.maps.LatLng(e.position.lat,e.position.lng)}))):"object"==typeof l&&l.position?{...l,position:new kakao.maps.LatLng(l.position.lat,l.position.lng)}:l,o=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(i.lat,i.lng),level:u,mapTypeId:c,marker:t});m(o)}))}),[JSON.stringify(l)]),(0,a.useImperativeHandle)(t,(()=>p),[p]),n((()=>{p&&p.setCenter(new kakao.maps.LatLng(i.lat,i.lng))}),[p,i.lat,i.lng]),n((()=>{p&&u&&p.setLevel(u)}),[p,u]),n((()=>{p&&c&&p.setMapTypeId(c)}),[p,c]),n((()=>{p&&d&&d(p)}),[p,d]),a.createElement("div",{id:o,style:r,className:s,ref:k})})),H=e=>{const[t,o]=(0,a.useState)({loading:!0,error:void 0}),n=(0,a.useMemo)((()=>new l(e)),[JSON.stringify(e)]);return(0,a.useEffect)((()=>{n.load().then((()=>o({loading:!1,error:void 0}))).catch((e=>o({loading:!1,error:e})))}),[n]),t}}}]);