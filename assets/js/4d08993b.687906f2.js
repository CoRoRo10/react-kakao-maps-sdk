"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2364,9514],{6922:function(e,n,t){var a=t(7378),o=t(1855),i=Object.assign({React:a},a,o);n.Z=i},1855:function(e,n,t){t.r(n),t.d(n,{CustomOverlayMap:function(){return f},CustomOverlayRoadview:function(){return v},Map:function(){return r},MapInfoWindow:function(){return d},MapMarker:function(){return c},Roadview:function(){return m},useKakaoMapsSDK:function(){return g},useMap:function(){return k},useMapPosition:function(){return C},useRelayout:function(){return h},useRoadview:function(){return w}});var a=t(7378),o=function(e,n,t){(0,a.useEffect)((function(){if(e&&t){var a=function(n){return void 0===n?t(e):t(e,n)};return kakao.maps.event.addListener(e,n,a),function(){kakao.maps.event.removeListener(e,n,a)}}}),[e,n,t])},i=a.createContext(void 0),r=function(e){var n=e.id,t=void 0===n?"kakao-map-container":n,r=e.style,s=e.containerElem,l=e.children,u=e.center,c=e.isPanto,d=void 0!==c&&c,f=e.padding,p=void 0===f?32:f,m=e.className,v=e.loading,g=void 0!==v&&v,k=e.disableDoubleClick,w=e.disableDoubleClickZoom,C=e.draggable,h=e.keyboardShortcuts,E=e.level,b=e.maxLevel,y=e.minLevel,M=e.mapTypeId,x=e.projectionId,I=e.scrollwheel,O=e.tileAnimation,L=e.onMapCreated,P=e.onBoundsChanged,A=e.onCenterChanged,R=e.onClick,z=e.onDoubleClick,S=e.onDrag,D=e.onDragEnd,_=e.onDragStart,N=e.onIdle,Z=e.onMaptypeidChanged,T=e.onMouseMove,W=e.onRightClick,j=e.onTileLoaded,F=e.onZoomChanged,K=e.onZoomStart,X=(0,a.useState)(),V=X[0],q=X[1],B=(0,a.useRef)(null);return(0,a.useEffect)((function(){!g&&s&&kakao.maps.load((function(){var e=new kakao.maps.LatLng(u.lat,u.lng),n=new kakao.maps.Map(s,{center:e,disableDoubleClick:k,disableDoubleClickZoom:w,draggable:C,keyboardShortcuts:h,level:E,mapTypeId:M,projectionId:x,scrollwheel:I,tileAnimation:O});q(n)}))}),[g,s,k,w,M,O]),(0,a.useLayoutEffect)((function(){g||s||kakao.maps.load((function(){var e=new kakao.maps.LatLng(u.lat,u.lng),n=new kakao.maps.Map(B.current,{center:e,disableDoubleClick:k,disableDoubleClickZoom:w,draggable:C,keyboardShortcuts:h,level:E,mapTypeId:M,projectionId:x,scrollwheel:I,tileAnimation:O});q(n),L&&L(n)}))}),[g,s,k,w,M,O]),(0,a.useEffect)((function(){if(V&&(V.getCenter().getLat()!==u.lat||V.getCenter().getLng()!==u.lng)){var e=new kakao.maps.LatLng(u.lat,u.lng);d?V.panTo(e,p):V.setCenter(e)}}),[V,u.lat,u.lng]),(0,a.useEffect)((function(){if(V&&s){var e=new MutationObserver((function(){V.relayout()}));return e.observe(s,{attributes:!0,attributeFilter:["style","class"]}),function(){e.disconnect()}}}),[V,s]),(0,a.useEffect)((function(){V&&!s&&V.relayout()}),[V,r,m,t,s]),(0,a.useEffect)((function(){V&&C&&V.setDraggable(C)}),[V,C]),(0,a.useEffect)((function(){V&&h&&"boolean"==typeof h&&V.setKeyboardShortcuts(h)}),[V,h]),(0,a.useEffect)((function(){V&&E&&V.setLevel(E)}),[V,E]),(0,a.useEffect)((function(){V&&M&&V.setMapTypeId(M)}),[V,M]),(0,a.useEffect)((function(){V&&x&&V.setProjectionId(x)}),[V,x]),(0,a.useEffect)((function(){V&&b&&V.setMaxLevel(b)}),[V,b]),(0,a.useEffect)((function(){V&&y&&V.setMinLevel(y)}),[V,y]),o(V,"bounds_changed",P),o(V,"center_changed",A),o(V,"click",R),o(V,"dblclick",z),o(V,"drag",S),o(V,"dragstart",_),o(V,"dragend",D),o(V,"idle",N),o(V,"maptypeid_changed",Z),o(V,"mousemove",T),o(V,"rightclick",W),o(V,"tileloaded",j),o(V,"zoom_changed",F),o(V,"zoom_start",K),a.createElement(a.Fragment,null,a.createElement("div",{id:t,style:r,className:m,ref:B}),V&&a.createElement(i.Provider,{value:V},l))},s=t(1542),l=function(e){var n=e.map,t=e.position,o=e.marker,i=e.children,r=e.altitude,l=e.disableAutoPan,u=e.range,c=e.removable,d=e.zIndex,f=e.onInfoWindowCreated,p=(0,a.useRef)(document.createElement("div")),m=(0,a.useMemo)((function(){var e=new kakao.maps.InfoWindow({altitude:r,disableAutoPan:l,range:u,removable:c,zIndex:d,content:p.current,position:t});return f&&f(e),e}),[]);return(0,a.useEffect)((function(){return m.open(n,o),function(){m.close()}}),[n,o]),(0,a.useEffect)((function(){m&&m.setPosition(t)}),[m,t]),(0,a.useEffect)((function(){m&&r&&m.setAltitude(r)}),[m,r]),(0,a.useEffect)((function(){m&&u&&m.setRange(u)}),[m,u]),(0,a.useEffect)((function(){m&&d&&m.setZIndex(d)}),[m,d]),s.createPortal(i,p.current)},u=function(e){var n=e.map,t=e.position,i=e.onMarkerCreated,r=e.children,s=e.altitude,u=e.clickable,c=e.draggable,d=e.image,f=e.infoWindowOptions,p=e.onClick,m=e.onDragEnd,v=e.onDragStart,g=e.onMouseOut,k=e.onMouseOver,w=e.opacity,C=e.range,h=e.title,E=e.zIndex,b=(0,a.useMemo)((function(){var e=new kakao.maps.Marker({altitude:s,clickable:u,draggable:c,image:d,opacity:w,range:C,title:h,zIndex:E,position:t});return i&&i(b),e}),[]);return(0,a.useEffect)((function(){return b.setMap(n),function(){b.setMap(null)}}),[n,b]),o(b,"click",p),o(b,"dragstart",v),o(b,"dragend",m),o(b,"mouseout",g),o(b,"mouseover",k),(0,a.useEffect)((function(){n&&b&&t&&b.setPosition(t)}),[n,b,t]),(0,a.useEffect)((function(){n&&b&&d&&b.setImage(d)}),[n,b,d]),(0,a.useEffect)((function(){n&&b&&s&&b.setAltitude(s)}),[n,b,s]),(0,a.useEffect)((function(){n&&b&&u&&b.setClickable(u)}),[n,b,u]),(0,a.useEffect)((function(){n&&b&&c&&b.setDraggable(c)}),[n,b,c]),(0,a.useEffect)((function(){n&&b&&w&&b.setOpacity(w)}),[n,b,w]),(0,a.useEffect)((function(){n&&b&&C&&b.setRange(C)}),[n,b,C]),(0,a.useEffect)((function(){n&&b&&h&&b.setTitle(h)}),[n,b,h]),(0,a.useEffect)((function(){n&&b&&E&&b.setZIndex(E)}),[n,b,E]),r?a.createElement(l,{position:t,map:n,marker:b,altitude:null==f?void 0:f.altitude,disableAutoPan:null==f?void 0:f.disableAutoPan,range:null==f?void 0:f.range,removable:null==f?void 0:f.removable,zIndex:null==f?void 0:f.zIndex},r):a.createElement(a.Fragment,null)},c=function(e){var n=e.image,t=e.position,o=e.children,r=e.altitude,s=e.clickable,l=e.draggable,c=e.infoWindowOptions,d=e.onClick,f=e.onDragEnd,p=e.onDragStart,m=e.onMouseOut,v=e.onMouseOver,g=e.opacity,k=e.range,w=e.title,C=e.zIndex,h=(0,a.useContext)(i),E=(0,a.useMemo)((function(){var e,t,a,o,i,r,s,l,u,c,d,f;return n&&new kakao.maps.MarkerImage(n.src,new kakao.maps.Size(n.size[0],n.size[1]),{alt:null==(e=n.options)?void 0:e.alt,coords:null==(t=n.options)?void 0:t.coords,offset:(null==(a=n.options)?void 0:a.offset)&&new kakao.maps.Point(null==(o=n.options)?void 0:o.offset[0],null==(i=n.options)?void 0:i.offset[1]),shape:null==(r=n.options)?void 0:r.shape,spriteOrigin:(null==(s=n.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(l=n.options)?void 0:l.spriteOrigin[0],null==(u=n.options)?void 0:u.spriteOrigin[1]),spriteSize:(null==(c=n.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=n.options)?void 0:d.spriteSize[0],null==(f=n.options)?void 0:f.spriteSize[1])})}),[n]),b=(0,a.useMemo)((function(){return new kakao.maps.LatLng(t.lat,t.lng)}),[t.lat,t.lng]);return a.createElement(u,{map:h,position:b,image:E,altitude:r,clickable:s,draggable:l,infoWindowOptions:c,onClick:d,onDragEnd:f,onDragStart:p,onMouseOut:m,onMouseOver:v,opacity:g,range:k,title:w,zIndex:C},o)},d=function(e){var n=e.position,t=e.children,o=e.altitude,r=e.disableAutoPan,s=e.range,u=e.removable,c=e.zIndex,d=e.onInfoWindowCreated,f=(0,a.useContext)(i),p=(0,a.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]);return a.createElement(l,{altitude:o,disableAutoPan:r,range:s,removable:u,zIndex:c,map:f,position:p,onInfoWindowCreated:d},t)},f=function(e){var n=e.position,t=e.children,o=e.clickable,r=e.xAnchor,l=e.yAnchor,u=e.zIndex,c=e.onCustomOverlayCreated,d=(0,a.useContext)(i),f=(0,a.useRef)(document.createElement("div")),p=(0,a.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),m=(0,a.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:r,yAnchor:l,zIndex:u,position:p,content:f.current});return c&&c(e),e}),[o,r,l]);return(0,a.useEffect)((function(){if(d)return m.setMap(d),function(){m.setMap(null)}}),[d,m]),(0,a.useEffect)((function(){m.setPosition(p)}),[m,p]),(0,a.useEffect)((function(){u&&m.setZIndex(u)}),[m,u]),s.createPortal(t,f.current)},p=a.createContext(void 0),m=function(e){var n=e.id,t=void 0===n?"kakao-roadview-container":n,i=e.containerElem,r=e.style,s=e.children,l=e.position,u=e.className,c=e.pan,d=e.panoId,f=e.panoX,m=e.panoY,v=e.tilt,g=e.zoom,k=e.onRoadviewCreated,w=e.onInit,C=e.onPanoidChange,h=e.onPositionChanged,E=e.onViewpointChange,b=(0,a.useState)(),y=b[0],M=b[1],x=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=i||x.current;if(e){var n=new kakao.maps.Roadview(e,{pan:c,panoId:d,panoX:f,panoY:m,tilt:v,zoom:g});M(n),k&&k(n)}}),[i]),(0,a.useEffect)((function(){if(y&&!d&&(y.getPosition().getLat()!==l.lat||y.getPosition().getLng()!==l.lng)){var e=new kakao.maps.LatLng(l.lat,l.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,l.radius,(function(n){y.setPanoId(n,e)}))}}),[y,d,l.lat,l.lng,l.radius]),(0,a.useEffect)((function(){if(y&&d&&d!==y.getPanoId()&&(y.getPosition().getLat()!==l.lat||y.getPosition().getLng()!==l.lng)){var e=new kakao.maps.LatLng(l.lat,l.lng);y.setPanoId(d,e)}}),[y,d,l.lat,l.lng]),(0,a.useEffect)((function(){if(y&&i){var e=new MutationObserver((function(){y.relayout()}));return e.observe(i,{attributes:!0,attributeFilter:["style","class"]}),function(){e.disconnect()}}}),[y,i]),(0,a.useEffect)((function(){y&&!i&&y.relayout()}),[y,r,u,t,i]),(0,a.useEffect)((function(){if(y){var e=y.getViewpoint();e.pan===c&&e.tilt===v||(c&&(e.pan=c),v&&(e.tilt=v),y.setViewpoint(e))}}),[y,c,v]),o(y,"init",w),o(y,"panoid_changed",C),o(y,"viewpoint_changed",E),o(y,"position_changed",h),a.createElement(a.Fragment,null,!i&&a.createElement("div",{id:t,className:u,style:r,ref:x}),y&&a.createElement(p.Provider,{value:y},s))},v=function(e){var n=e.position,t=e.children,o=e.clickable,i=e.xAnchor,r=e.yAnchor,l=e.zIndex,u=e.altitude,c=e.range,d=e.onCustomOverlayCreated,f=(0,a.useContext)(p),m=(0,a.useRef)(document.createElement("div")),v=(0,a.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),g=(0,a.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:o,xAnchor:i,yAnchor:r,zIndex:l,position:v,content:m.current});return d&&d(e),e}),[o,i,r]);return(0,a.useEffect)((function(){if(f)return kakao.maps.event.addListener(f,"init",(function(){g.setMap(f)})),function(){g.setMap(null)}}),[g,f]),(0,a.useEffect)((function(){g.setPosition(v)}),[g,v]),(0,a.useEffect)((function(){l&&g.setZIndex(l)}),[g,l]),(0,a.useEffect)((function(){u&&g.setAltitude(u)}),[g,u]),(0,a.useEffect)((function(){c&&g.setRange(c)}),[g,c]),s.createPortal(t,m.current)},g=function(e){var n=e.apiKey,t=e.endpoint,o=(0,a.useState)(!0),i=o[0],r=o[1];return(0,a.useEffect)((function(){var e=document.createElement("script");e.id="kakao-maps-sdk",e.src=(null!=t?t:"//dapi.kakao.com/v2/maps/sdk.js")+"?autoload=false&appkey="+n,document.head.appendChild(e),e.onload=function(){r(!1)}}),[n,t]),i},k=function(){return(0,a.useContext)(i)},w=function(){return(0,a.useContext)(p)},C=function(){var e=(0,a.useContext)(i);return function(n,t,a){return void 0===t&&(t=!1),t?e.panTo(new kakao.maps.LatLng(n.lat,n.lng),a):e.setCenter(new kakao.maps.LatLng(n.lat,n.lng))}},h=function(){var e=(0,a.useContext)(i),n=(0,a.useContext)(p);return function(){e&&e.relayout(),n&&n.relayout()}}},3417:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return f},metadata:function(){return m},toc:function(){return v}});var a=t(7462),o=t(3366),i=t(7378),r=t(3905),s=t(7934),l=t(1855),u=function(){return i.createElement("div",{className:"overlay_info"},i.createElement("a",{href:"https://place.map.kakao.com/17600274",target:"_blank"},i.createElement("strong",null,"\uc6d4\uc815\ub9ac \ud574\uc218\uc695\uc7a5")),i.createElement("div",{className:"desc"},i.createElement("img",{src:"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/place_thumb.png",alt:""}),i.createElement("span",{className:"address"},"\uc81c\uc8fc\ud2b9\ubcc4\uc790\uce58\ub3c4 \uc81c\uc8fc\uc2dc \uad6c\uc88c\uc74d \uc6d4\uc815\ub9ac 33-3")))},c=function(){return i.createElement(i.Fragment,null,i.createElement(l.Map,{center:{lat:33.5563,lng:126.79581},style:{width:"100%",height:"300px"},level:3},i.createElement(l.CustomOverlayMap,{position:{lat:33.55635,lng:126.795841},xAnchor:.5,yAnchor:1.1},i.createElement(u,null))),i.createElement(l.Roadview,{position:{lat:33.5563,lng:126.7958,radius:50},style:{width:"100%",height:"300px"}},i.createElement(l.CustomOverlayRoadview,{position:{lat:33.55635,lng:126.795841},xAnchor:.5,yAnchor:.5},i.createElement(u,null))))},d=["components"],f={title:"\ub85c\ub4dc\ubdf0\uc5d0 \ucee4\uc2a4\ud140\uc624\ubc84\ub808\uc774 \uc62c\ub9ac\uae30",sidebar_position:6},p=void 0,m={unversionedId:"sample/roadview/roadviewCustomOverlay",id:"sample/roadview/roadviewCustomOverlay",isDocsHomePage:!1,title:"\ub85c\ub4dc\ubdf0\uc5d0 \ucee4\uc2a4\ud140\uc624\ubc84\ub808\uc774 \uc62c\ub9ac\uae30",description:"\uc9c0\ub3c4\uc640 \ub85c\ub4dc\ubdf0\uc5d0 \ucee4\uc2a4\ud140 \uc624\ubc84\ub808\uc774\ub97c \uc62c\ub9bd\ub2c8\ub2e4. \ub85c\ub4dc\ubdf0\ub294 \ucee4\uc2a4\ud140 \uc624\ubc84\ub808\uc774\uac00 \uc911\uc559\uc5d0 \uc624\ub3c4\ub85d viewpoint\uac12\uc744 \ubcc0\uacbd\uc2dc\ud0b5\ub2c8\ub2e4.",source:"@site/docs/sample/roadview/roadviewCustomOverlay.mdx",sourceDirName:"sample/roadview",slug:"/sample/roadview/roadviewCustomOverlay",permalink:"/docs/sample/roadview/roadviewCustomOverlay",editUrl:"https://github.com/JaeSeoKim/react-kakao-maps-sdk/edit/main/docs/sample/roadview/roadviewCustomOverlay.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"\ub85c\ub4dc\ubdf0\uc5d0 \ucee4\uc2a4\ud140\uc624\ubc84\ub808\uc774 \uc62c\ub9ac\uae30",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"\ub85c\ub4dc\ubdf0 \uc0dd\uc131\ud558\uae30",permalink:"/docs/sample/roadview/basicRoadview"},next:{title:"Exports",permalink:"/docs/api"}},v=[{value:"Source Code",id:"source-code",children:[]}],g={toc:v};function k(e){var n=e.components,t=(0,o.Z)(e,d);return(0,r.kt)("wrapper",(0,a.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\uc9c0\ub3c4\uc640 \ub85c\ub4dc\ubdf0\uc5d0 \ucee4\uc2a4\ud140 \uc624\ubc84\ub808\uc774\ub97c \uc62c\ub9bd\ub2c8\ub2e4. \ub85c\ub4dc\ubdf0\ub294 \ucee4\uc2a4\ud140 \uc624\ubc84\ub808\uc774\uac00 \uc911\uc559\uc5d0 \uc624\ub3c4\ub85d viewpoint\uac12\uc744 \ubcc0\uacbd\uc2dc\ud0b5\ub2c8\ub2e4."),(0,r.kt)(c,{mdxType:"SampleCreateMap"}),(0,r.kt)("h3",{id:"source-code"},"Source Code"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"original docs : ",(0,r.kt)("a",{parentName:"p",href:"https://apis.map.kakao.com/web/sample/roadviewCustomOverlay/"},"https://apis.map.kakao.com/web/sample/roadviewCustomOverlay/"))),(0,r.kt)(s.Z,{className:"language-jsx",mdxType:"CodeBlock"},'import React from "react"\nimport {\n  CustomOverlayMap,\n  CustomOverlayRoadview,\n  Map,\n  Roadview,\n} from "react-kakao-maps-sdk"\nimport "./roadviewCustomOverlay.css"\n\nconst Content = () => (\n  <div className="overlay_info">\n    <a href="https://place.map.kakao.com/17600274" target="_blank">\n      <strong>\uc6d4\uc815\ub9ac \ud574\uc218\uc695\uc7a5</strong>\n    </a>\n    <div className="desc">\n      <img\n        src="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/place_thumb.png"\n        alt=""\n      />\n      <span className="address">\uc81c\uc8fc\ud2b9\ubcc4\uc790\uce58\ub3c4 \uc81c\uc8fc\uc2dc \uad6c\uc88c\uc74d \uc6d4\uc815\ub9ac 33-3</span>\n    </div>\n  </div>\n)\n\nconst SampleCreateMap = () => {\n  return (\n    <>\n      <Map // \ub85c\ub4dc\ubdf0\ub97c \ud45c\uc2dc\ud560 Container\n        center={{\n          // \uc9c0\ub3c4\uc758 \uc911\uc2ec\uc88c\ud45c\n          lat: 33.5563,\n          lng: 126.79581,\n        }}\n        style={{\n          // \uc9c0\ub3c4\uc758 \ud06c\uae30\n          width: "100%",\n          height: "300px",\n        }}\n        level={3}\n      >\n        <CustomOverlayMap\n          position={{\n            lat: 33.55635,\n            lng: 126.795841,\n          }}\n          xAnchor={0.5}\n          yAnchor={1.1}\n        >\n          <Content />\n        </CustomOverlayMap>\n      </Map>\n      <Roadview // \ub85c\ub4dc\ubdf0\ub97c \ud45c\uc2dc\ud560 Container\n        position={{\n          // \uc9c0\ub3c4\uc758 \uc911\uc2ec\uc88c\ud45c\n          lat: 33.5563,\n          lng: 126.7958,\n          radius: 50,\n        }}\n        style={{\n          // \uc9c0\ub3c4\uc758 \ud06c\uae30\n          width: "100%",\n          height: "300px",\n        }}\n      >\n        <CustomOverlayRoadview\n          position={{\n            lat: 33.55635,\n            lng: 126.795841,\n          }}\n          xAnchor={0.5}\n          yAnchor={0.5}\n        >\n          <Content />\n        </CustomOverlayRoadview>\n      </Roadview>\n    </>\n  )\n}\n\nexport default SampleCreateMap\n'))}k.isMDXComponent=!0}}]);