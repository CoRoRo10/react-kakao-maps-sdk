"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9514],{6922:function(e,n,t){var o=t(7378),a=t(1855),i=Object.assign({React:o},o,a);n.Z=i},1855:function(e,n,t){t.r(n),t.d(n,{CustomOverlayMap:function(){return d},CustomOverlayRoadview:function(){return m},Map:function(){return r},MapInfoWindow:function(){return f},MapMarker:function(){return c},Roadview:function(){return g},useKakaoMapsSDK:function(){return k},useMap:function(){return v},useMapPosition:function(){return b},useRelayout:function(){return C},useRoadview:function(){return E}});var o=t(7378),a=function(e,n,t){(0,o.useEffect)((function(){if(e&&t){var o=function(n){return void 0===n?t(e):t(e,n)};return kakao.maps.event.addListener(e,n,o),function(){kakao.maps.event.removeListener(e,n,o)}}}),[e,n,t])},i=o.createContext(void 0),r=function(e){var n=e.id,t=void 0===n?"kakao-map-container":n,r=e.style,u=e.containerElem,s=e.children,l=e.center,c=e.isPanto,f=void 0!==c&&c,d=e.padding,p=void 0===d?32:d,g=e.className,m=e.loading,k=void 0!==m&&m,v=e.disableDoubleClick,E=e.disableDoubleClickZoom,b=e.draggable,C=e.keyboardShortcuts,w=e.level,h=e.maxLevel,M=e.minLevel,y=e.mapTypeId,I=e.projectionId,L=e.scrollwheel,x=e.tileAnimation,P=e.onMapCreated,z=e.onBoundsChanged,O=e.onCenterChanged,A=e.onClick,D=e.onDoubleClick,S=e.onDrag,R=e.onDragEnd,Z=e.onDragStart,T=e.onIdle,W=e.onMaptypeidChanged,_=e.onMouseMove,j=e.onRightClick,F=e.onTileLoaded,N=e.onZoomChanged,K=e.onZoomStart,V=(0,o.useState)(),X=V[0],Y=V[1],B=(0,o.useRef)(null);return(0,o.useEffect)((function(){!k&&u&&kakao.maps.load((function(){var e=new kakao.maps.LatLng(l.lat,l.lng),n=new kakao.maps.Map(u,{center:e,disableDoubleClick:v,disableDoubleClickZoom:E,draggable:b,keyboardShortcuts:C,level:w,mapTypeId:y,projectionId:I,scrollwheel:L,tileAnimation:x});Y(n)}))}),[k,u,v,E,y,x]),(0,o.useLayoutEffect)((function(){k||u||kakao.maps.load((function(){var e=new kakao.maps.LatLng(l.lat,l.lng),n=new kakao.maps.Map(B.current,{center:e,disableDoubleClick:v,disableDoubleClickZoom:E,draggable:b,keyboardShortcuts:C,level:w,mapTypeId:y,projectionId:I,scrollwheel:L,tileAnimation:x});Y(n),P&&P(n)}))}),[k,u,v,E,y,x]),(0,o.useEffect)((function(){if(X&&(X.getCenter().getLat()!==l.lat||X.getCenter().getLng()!==l.lng)){var e=new kakao.maps.LatLng(l.lat,l.lng);f?X.panTo(e,p):X.setCenter(e)}}),[X,l.lat,l.lng]),(0,o.useEffect)((function(){if(X&&u){var e=new MutationObserver((function(){X.relayout()}));return e.observe(u,{attributes:!0,attributeFilter:["style","class"]}),function(){e.disconnect()}}}),[X,u]),(0,o.useEffect)((function(){X&&!u&&X.relayout()}),[X,r,g,t,u]),(0,o.useEffect)((function(){X&&b&&X.setDraggable(b)}),[X,b]),(0,o.useEffect)((function(){X&&C&&"boolean"==typeof C&&X.setKeyboardShortcuts(C)}),[X,C]),(0,o.useEffect)((function(){X&&w&&X.setLevel(w)}),[X,w]),(0,o.useEffect)((function(){X&&y&&X.setMapTypeId(y)}),[X,y]),(0,o.useEffect)((function(){X&&I&&X.setProjectionId(I)}),[X,I]),(0,o.useEffect)((function(){X&&h&&X.setMaxLevel(h)}),[X,h]),(0,o.useEffect)((function(){X&&M&&X.setMinLevel(M)}),[X,M]),a(X,"bounds_changed",z),a(X,"center_changed",O),a(X,"click",A),a(X,"dblclick",D),a(X,"drag",S),a(X,"dragstart",Z),a(X,"dragend",R),a(X,"idle",T),a(X,"maptypeid_changed",W),a(X,"mousemove",_),a(X,"rightclick",j),a(X,"tileloaded",F),a(X,"zoom_changed",N),a(X,"zoom_start",K),o.createElement(o.Fragment,null,o.createElement("div",{id:t,style:r,className:g,ref:B}),X&&o.createElement(i.Provider,{value:X},s))},u=t(1542),s=function(e){var n=e.map,t=e.position,a=e.marker,i=e.children,r=e.altitude,s=e.disableAutoPan,l=e.range,c=e.removable,f=e.zIndex,d=e.onInfoWindowCreated,p=(0,o.useRef)(document.createElement("div")),g=(0,o.useMemo)((function(){var e=new kakao.maps.InfoWindow({altitude:r,disableAutoPan:s,range:l,removable:c,zIndex:f,content:p.current,position:t});return d&&d(e),e}),[]);return(0,o.useEffect)((function(){return g.open(n,a),function(){g.close()}}),[n,a]),(0,o.useEffect)((function(){g&&g.setPosition(t)}),[g,t]),(0,o.useEffect)((function(){g&&r&&g.setAltitude(r)}),[g,r]),(0,o.useEffect)((function(){g&&l&&g.setRange(l)}),[g,l]),(0,o.useEffect)((function(){g&&f&&g.setZIndex(f)}),[g,f]),u.createPortal(i,p.current)},l=function(e){var n=e.map,t=e.position,i=e.onMarkerCreated,r=e.children,u=e.altitude,l=e.clickable,c=e.draggable,f=e.image,d=e.infoWindowOptions,p=e.onClick,g=e.onDragEnd,m=e.onDragStart,k=e.onMouseOut,v=e.onMouseOver,E=e.opacity,b=e.range,C=e.title,w=e.zIndex,h=(0,o.useMemo)((function(){var e=new kakao.maps.Marker({altitude:u,clickable:l,draggable:c,image:f,opacity:E,range:b,title:C,zIndex:w,position:t});return i&&i(h),e}),[]);return(0,o.useEffect)((function(){return h.setMap(n),function(){h.setMap(null)}}),[n,h]),a(h,"click",p),a(h,"dragstart",m),a(h,"dragend",g),a(h,"mouseout",k),a(h,"mouseover",v),(0,o.useEffect)((function(){n&&h&&t&&h.setPosition(t)}),[n,h,t]),(0,o.useEffect)((function(){n&&h&&f&&h.setImage(f)}),[n,h,f]),(0,o.useEffect)((function(){n&&h&&u&&h.setAltitude(u)}),[n,h,u]),(0,o.useEffect)((function(){n&&h&&l&&h.setClickable(l)}),[n,h,l]),(0,o.useEffect)((function(){n&&h&&c&&h.setDraggable(c)}),[n,h,c]),(0,o.useEffect)((function(){n&&h&&E&&h.setOpacity(E)}),[n,h,E]),(0,o.useEffect)((function(){n&&h&&b&&h.setRange(b)}),[n,h,b]),(0,o.useEffect)((function(){n&&h&&C&&h.setTitle(C)}),[n,h,C]),(0,o.useEffect)((function(){n&&h&&w&&h.setZIndex(w)}),[n,h,w]),r?o.createElement(s,{position:t,map:n,marker:h,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},r):o.createElement(o.Fragment,null)},c=function(e){var n=e.image,t=e.position,a=e.children,r=e.altitude,u=e.clickable,s=e.draggable,c=e.infoWindowOptions,f=e.onClick,d=e.onDragEnd,p=e.onDragStart,g=e.onMouseOut,m=e.onMouseOver,k=e.opacity,v=e.range,E=e.title,b=e.zIndex,C=(0,o.useContext)(i),w=(0,o.useMemo)((function(){var e,t,o,a,i,r,u,s,l,c,f,d;return n&&new kakao.maps.MarkerImage(n.src,new kakao.maps.Size(n.size[0],n.size[1]),{alt:null==(e=n.options)?void 0:e.alt,coords:null==(t=n.options)?void 0:t.coords,offset:(null==(o=n.options)?void 0:o.offset)&&new kakao.maps.Point(null==(a=n.options)?void 0:a.offset[0],null==(i=n.options)?void 0:i.offset[1]),shape:null==(r=n.options)?void 0:r.shape,spriteOrigin:(null==(u=n.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=n.options)?void 0:s.spriteOrigin[0],null==(l=n.options)?void 0:l.spriteOrigin[1]),spriteSize:(null==(c=n.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=n.options)?void 0:f.spriteSize[0],null==(d=n.options)?void 0:d.spriteSize[1])})}),[n]),h=(0,o.useMemo)((function(){return new kakao.maps.LatLng(t.lat,t.lng)}),[t.lat,t.lng]);return o.createElement(l,{map:C,position:h,image:w,altitude:r,clickable:u,draggable:s,infoWindowOptions:c,onClick:f,onDragEnd:d,onDragStart:p,onMouseOut:g,onMouseOver:m,opacity:k,range:v,title:E,zIndex:b},a)},f=function(e){var n=e.position,t=e.children,a=e.altitude,r=e.disableAutoPan,u=e.range,l=e.removable,c=e.zIndex,f=e.onInfoWindowCreated,d=(0,o.useContext)(i),p=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]);return o.createElement(s,{altitude:a,disableAutoPan:r,range:u,removable:l,zIndex:c,map:d,position:p,onInfoWindowCreated:f},t)},d=function(e){var n=e.position,t=e.children,a=e.clickable,r=e.xAnchor,s=e.yAnchor,l=e.zIndex,c=e.onCustomOverlayCreated,f=(0,o.useContext)(i),d=(0,o.useRef)(document.createElement("div")),p=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),g=(0,o.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:a,xAnchor:r,yAnchor:s,zIndex:l,position:p,content:d.current});return c&&c(e),e}),[a,r,s]);return(0,o.useEffect)((function(){if(f)return g.setMap(f),function(){g.setMap(null)}}),[f,g]),(0,o.useEffect)((function(){g.setPosition(p)}),[g,p]),(0,o.useEffect)((function(){l&&g.setZIndex(l)}),[g,l]),u.createPortal(t,d.current)},p=o.createContext(void 0),g=function(e){var n=e.id,t=void 0===n?"kakao-roadview-container":n,i=e.containerElem,r=e.style,u=e.children,s=e.position,l=e.className,c=e.pan,f=e.panoId,d=e.panoX,g=e.panoY,m=e.tilt,k=e.zoom,v=e.onRoadviewCreated,E=e.onInit,b=e.onPanoidChange,C=e.onPositionChanged,w=e.onViewpointChange,h=(0,o.useState)(),M=h[0],y=h[1],I=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=i||I.current;if(e){var n=new kakao.maps.Roadview(e,{pan:c,panoId:f,panoX:d,panoY:g,tilt:m,zoom:k});y(n),v&&v(n)}}),[i]),(0,o.useEffect)((function(){if(M&&!f&&(M.getPosition().getLat()!==s.lat||M.getPosition().getLng()!==s.lng)){var e=new kakao.maps.LatLng(s.lat,s.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,s.radius,(function(n){M.setPanoId(n,e)}))}}),[M,f,s.lat,s.lng,s.radius]),(0,o.useEffect)((function(){if(M&&f&&f!==M.getPanoId()&&(M.getPosition().getLat()!==s.lat||M.getPosition().getLng()!==s.lng)){var e=new kakao.maps.LatLng(s.lat,s.lng);M.setPanoId(f,e)}}),[M,f,s.lat,s.lng]),(0,o.useEffect)((function(){if(M&&i){var e=new MutationObserver((function(){M.relayout()}));return e.observe(i,{attributes:!0,attributeFilter:["style","class"]}),function(){e.disconnect()}}}),[M,i]),(0,o.useEffect)((function(){M&&!i&&M.relayout()}),[M,r,l,t,i]),(0,o.useEffect)((function(){if(M){var e=M.getViewpoint();e.pan===c&&e.tilt===m||(c&&(e.pan=c),m&&(e.tilt=m),M.setViewpoint(e))}}),[M,c,m]),a(M,"init",E),a(M,"panoid_changed",b),a(M,"viewpoint_changed",w),a(M,"position_changed",C),o.createElement(o.Fragment,null,!i&&o.createElement("div",{id:t,className:l,style:r,ref:I}),M&&o.createElement(p.Provider,{value:M},u))},m=function(e){var n=e.position,t=e.children,a=e.clickable,i=e.xAnchor,r=e.yAnchor,s=e.zIndex,l=e.altitude,c=e.range,f=e.onCustomOverlayCreated,d=(0,o.useContext)(p),g=(0,o.useRef)(document.createElement("div")),m=(0,o.useMemo)((function(){return new kakao.maps.LatLng(n.lat,n.lng)}),[n.lat,n.lng]),k=(0,o.useMemo)((function(){var e=new kakao.maps.CustomOverlay({clickable:a,xAnchor:i,yAnchor:r,zIndex:s,position:m,content:g.current});return f&&f(e),e}),[a,i,r]);return(0,o.useEffect)((function(){if(d)return kakao.maps.event.addListener(d,"init",(function(){k.setMap(d)})),function(){k.setMap(null)}}),[k,d]),(0,o.useEffect)((function(){k.setPosition(m)}),[k,m]),(0,o.useEffect)((function(){s&&k.setZIndex(s)}),[k,s]),(0,o.useEffect)((function(){l&&k.setAltitude(l)}),[k,l]),(0,o.useEffect)((function(){c&&k.setRange(c)}),[k,c]),u.createPortal(t,g.current)},k=function(e){var n=e.apiKey,t=e.endpoint,a=(0,o.useState)(!0),i=a[0],r=a[1];return(0,o.useEffect)((function(){var e=document.createElement("script");e.id="kakao-maps-sdk",e.src=(null!=t?t:"//dapi.kakao.com/v2/maps/sdk.js")+"?autoload=false&appkey="+n,document.head.appendChild(e),e.onload=function(){r(!1)}}),[n,t]),i},v=function(){return(0,o.useContext)(i)},E=function(){return(0,o.useContext)(p)},b=function(){var e=(0,o.useContext)(i);return function(n,t,o){return void 0===t&&(t=!1),t?e.panTo(new kakao.maps.LatLng(n.lat,n.lng),o):e.setCenter(new kakao.maps.LatLng(n.lat,n.lng))}},C=function(){var e=(0,o.useContext)(i),n=(0,o.useContext)(p);return function(){e&&e.relayout(),n&&n.relayout()}}}}]);